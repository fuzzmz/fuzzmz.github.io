title: git and hg - the next holy war?
date: 2014-01-12
slug: git-vs-hg
category: debug
tags: git, scm, hg, GitHub, BitBucket, DVCS

When it comes to version control systems the darling child right now is [git](http://git-scm.com/), and for good reasons: it's fast, it's easy to use (at least compared to the older version control systems out there) and allows for a real fast development process with lots of branching and relatively painless merging.

One of the downsides of git though is the fact that, until recently, it was relative hard to get running on Windows; and this is where Mercurial (hg from now on) came in: being written in Python it was easier to install on non-*nix systems as well as providing most of the same benefits as git does when comparing to older DVCS' out there.

The problem with Hg though is that it didn't have the word of mouth git did (I mean, the Linux kernel uses git as its distributed version control system), was a bit slower.

An even larger issue is that git owes a lot of its popularity to [GitHub](https://github.com/), which made collaborating on open source projects both easier and, more importantly cool. See, there is a Hg version of GitHub, [BitBucket](https://bitbucket.org/), but it has one major downside: it's so much slower compared to GitHub. Part of this is due to Mercurial itself, but part of it is due to the way BitBucket itself is built; granted, the devs of BitBucket made a lot of changes to improve the speed of the website, and now it's mostly on par with GitHub, but it's a bit too late.

git now has a lot of mindshare. Pointy Haired Boss types have heard of it, so when an enterprise vendor comes along mentioning Git, it tickles their fancy, because PHBs often know that Git is "better than svn"--which it is--which is an automatic plus. If you present hg to a PHB, you're going to get a blank stare. If Mercurial will ever see market penetration, it will be in orgs that haven't calcified to the point where PHBs are a thing.

And it seems that git is extending. Eric Raymond posted [this](https://lists.gnu.org/archive/html/emacs-devel/2014-01/msg00005.html) to the emacs-devel (Emacs uses bzr for source control) list, which includes:

> git won the mindshare war. I regret this - I would have preferred Mercurial, but it too is not looking real healthy these days. I have made my peace with git's victory and switched. I urge the Emacs project to do likewise.

This mindshare also translates into better Googleability, 3rd party tools, books and so on, which further distances git from Hg.

One major and often neglected thing Mercurial does have over git though is the fact that is much easier to extend due to it being written in Python as opposed to C, and this might be exactly what might save Hg or, who knows, even push it in front of git.

[Facebook recently switched to Mercurial](https://code.facebook.com/posts/218678814984400/scaling-mercurial-at-facebook/) for its code repositories precisely because of this ease of improving Hg in-house, which is the largest win Hg got in a while, and hopefully this trend will go on.

Granted, git could be improved as well, but writing C is usually requires more attention than Python and, especially when it comes to web services, tends to be harder to deploy and keep working.

---

What needs to be remembered though is that git and Mercurial aren't the only contenders in town, and that there is a lot of legacy and entrenched DCVS' out there.

Based on data from [Ohloh](http://www.ohloh.net), a website which indexes a large number of open source projects, the split between code versioning systems is as follows:

<div class="compare_repositories">
<div style=" height:480px;" datasrc="/repositories/chart" class="chart " id="" data-highcharts-chart="0"><div class="highcharts-container" id="highcharts-0" style="position: relative; overflow: hidden; width: 780px; height: 480px; text-align: left; line-height: normal; z-index: 0; font-family: &quot;Lucida Grande&quot;,&quot;Lucida Sans Unicode&quot;,Verdana,Arial,Helvetica,sans-serif; font-size: 12px; left: 0px; top: 0.850006px; cursor: auto;"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="780" height="480"><desc>Created with Highstock 1.3.0</desc><defs><clipPath id="highcharts-1"><rect rx="0" ry="0" fill="none" x="0" y="0" width="9999" height="480"/></clipPath><clipPath id="highcharts-2"><rect fill="none" x="0" y="0" width="760" height="455"/></clipPath></defs><rect rx="5" ry="5" fill="#FFFFFF" x="0" y="0" width="780" height="480"/><g class="highcharts-series-group" zIndex="3"><g class="highcharts-series highcharts-tracker" visibility="visible" zIndex="0.1" transform="translate(10,10)" style="cursor:pointer;" clip-path="url(#highcharts-2)"><path fill="none" d="M 398.91056570582685 12 C 393.91056570582685 12 393.39654942108484 20.43082288909674 392.68977702956477 31.408093623964536 L 391.9830046380447 42.385364358832334" stroke="#2f7ed8" stroke-width="1" visibility="visible"/><path fill="none" d="M 484.0757286120067 36 C 479.0757286120067 36 469.241324681223 40.063708460550174 464.5331492783767 50.00519146742762 L 459.8249738755304 59.94667447430507" stroke="#0d233a" stroke-width="1" visibility="visible"/><path fill="none" d="M 584.5779244121547 312.4100833472132 C 579.5779244121547 312.4100833472132 572.2032205077795 309.3094798055148 562.0630026392636 305.04614993567947 L 551.9227847707476 300.78282006584413" stroke="#8bbc21" stroke-width="1" visibility="visible"/><path fill="none" d="M 347.5346133513318 443.25079170107654 C 352.5346133513318 443.25079170107654 353.5495006177952 435.3154275735541 354.9449706091825 424.4043018982107 L 356.3404406005698 413.4931762228673" stroke="#910000" stroke-width="1" visibility="visible"/><path fill="none" d="M 159.73603090446304 205.39862321774487 C 164.73603090446304 205.39862321774487 172.69035770706952 206.25225376859032 183.62755706065337 207.42599577600282 L 194.56475641423722 208.59973778341532" stroke="#1aadce" stroke-width="1" visibility="visible"/><path fill="#2f7ed8" d="M 379.96201494751085 42.00000386826869 A 186.5 186.5 0 0 1 403.7691921079165 43.52087818746418 L 380 228.5 A 0 0 0 0 0 380 228.5 Z" stroke="#FFFFFF" stroke-width="1" stroke-linejoin="round"/><path fill="#0d233a" d="M 403.9541593143041 43.54473986516379 A 186.5 186.5 0 0 1 507.7786706209405 92.65132928752965 L 380 228.5 A 0 0 0 0 0 380 228.5 Z" stroke="#FFFFFF" stroke-width="1" stroke-linejoin="round"/><path fill="#8bbc21" d="M 507.9144553796815 92.77917586118383 A 186.5 186.5 0 0 1 372.6903876743378 414.8566998195893 L 380 228.5 A 0 0 0 0 0 380 228.5 Z" stroke="#FFFFFF" stroke-width="1" stroke-linejoin="round"/><path fill="#910000" d="M 372.5040346603835 414.84929703013984 A 186.5 186.5 0 0 1 340.53807033688184 410.77727808825523 L 380 228.5 A 0 0 0 0 0 380 228.5 Z" stroke="#FFFFFF" stroke-width="1" stroke-linejoin="round"/><path fill="#1aadce" d="M 340.35581282013635 410.73772502653765 A 186.5 186.5 0 0 1 379.74095524154967 42.000179904073036 L 380 228.5 A 0 0 0 0 0 380 228.5 Z" stroke="#FFFFFF" stroke-width="1" stroke-linejoin="round"/></g><g class="highcharts-markers" visibility="visible" zIndex="0.1" transform="translate(10,10)"/></g><g class="highcharts-data-labels highcharts-tracker" visibility="visible" zIndex="6" transform="translate(10,10)" style="cursor:pointer;"><g zIndex="1" style="cursor:default;" transform="translate(404,2)" visibility="visible"><text x="3" y="15" style="font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Verdana, Arial, Helvetica, sans-serif;font-size:11px;color:#000000;line-height:14px;fill:#000000;" zIndex="1"><tspan style="font-weight:bold" x="3">Bazaar</tspan><tspan dx="0">: 2%</tspan></text></g><g zIndex="1" style="cursor:default;" transform="translate(489,26)" visibility="visible"><text x="3" y="15" style="font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Verdana, Arial, Helvetica, sans-serif;font-size:11px;color:#000000;line-height:14px;fill:#000000;" zIndex="1"><tspan style="font-weight:bold" x="3">CVS</tspan><tspan dx="0">: 9%</tspan></text></g><g zIndex="1" style="cursor:default;" transform="translate(590,302)" visibility="visible"><text x="3" y="15" style="font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Verdana, Arial, Helvetica, sans-serif;font-size:11px;color:#000000;line-height:14px;fill:#000000;" zIndex="1"><tspan style="font-weight:bold" x="3">Git</tspan><tspan dx="0">: 38%</tspan></text></g><g zIndex="1" style="cursor:default;" transform="translate(267,433)" visibility="visible"><text x="3" y="15" style="font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Verdana, Arial, Helvetica, sans-serif;font-size:11px;color:#000000;line-height:14px;fill:#000000;" zIndex="1"><tspan style="font-weight:bold" x="3">Mercurial</tspan><tspan dx="0">: 2%</tspan></text></g><g zIndex="1" style="cursor:default;" transform="translate(63,195)" visibility="visible"><text x="3" y="15" style="font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Verdana, Arial, Helvetica, sans-serif;font-size:11px;color:#000000;line-height:14px;fill:#000000;" zIndex="1"><tspan style="font-weight:bold" x="3">Subversion</tspan><tspan dx="0">: 46%</tspan></text></g></g><g class="highcharts-legend" zIndex="7"><rect rx="5" ry="5" fill="none" x="0.5" y="0.5" width="7" height="7" stroke="#909090" stroke-width="1" visibility="hidden"/><g zIndex="1" clip-path="url(#highcharts-1)"><g/></g></g><g class="highcharts-tooltip" zIndex="8" style="cursor:default;padding:0;white-space:nowrap;" visibility="hidden" opacity="0" transform="translate(181,276)"><rect rx="3" ry="3" fill="none" x="0.5" y="0.5" width="173" height="36" fill-opacity="0.85" isShadow="true" stroke="black" stroke-opacity="0.049999999999999996" stroke-width="5" transform="translate(1, 1)"/><rect rx="3" ry="3" fill="none" x="0.5" y="0.5" width="173" height="36" fill-opacity="0.85" isShadow="true" stroke="black" stroke-opacity="0.09999999999999999" stroke-width="3" transform="translate(1, 1)"/><rect rx="3" ry="3" fill="none" x="0.5" y="0.5" width="173" height="36" fill-opacity="0.85" isShadow="true" stroke="black" stroke-opacity="0.15" stroke-width="1" transform="translate(1, 1)"/><rect rx="3" ry="3" fill="rgb(255,255,255)" x="0.5" y="0.5" width="173" height="36" fill-opacity="0.85" stroke="#1aadce" stroke-width="1" anchorX="186.85602718729723" anchorY="20.50312042236328"/><text x="8" y="21" style="font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Verdana, Arial, Helvetica, sans-serif;font-size:12px;color:#333333;fill:#333333;" zIndex="1"><tspan style="font-weight:bold" x="8">Subversion</tspan><tspan dx="0">: 292,340 (46%)</tspan></text></g></svg></div></div>
</div>

Google Trends also shows how the popularity of each system changed over time:

<script type="text/javascript" src="//www.google.com/trends/embed.js?hl=en-US&q=/m/05vqwg,+/m/08441_&cmpt=q&content=1&cid=TIMESERIES_GRAPH_AVERAGES_CHART&export=5&w=600&h=330"></script>


This might look bad for Mercurial, but we need to remember that git started from a similar percentage, so all is not lost.

In the end though, git vs Mercurial is the DVCS version of vi vs emacs, Linux vs BSD, etc. They both have essentially the same functionality and a typical team would do fine with either.
